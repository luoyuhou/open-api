// 测试环境专用 Prisma Schema - 使用 SQLite
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model user {
  id          Int       @id @default(autoincrement())
  user_id     String    @unique
  status      Int
  first_name  String
  last_name   String
  email       String?
  phone       String    @unique
  gender      Int       @default(0)
  avatar      String?
  bio         String?
  create_date DateTime? @default(now())
  update_date DateTime? @default(now())
}

model user_signin_history {
  id          Int       @id @default(autoincrement())
  user_id     String
  ip          String?
  useragent   String?
  source      Int
  create_date DateTime? @default(now())
}

model user_signin_password {
  id                 Int       @id @default(autoincrement())
  user_id            String    @unique
  salt               String
  password           String
  failed_login_times Int       @default(0)
  locked_date        DateTime?
  create_date        DateTime? @default(now())
  update_date        DateTime? @default(now())
}

model user_signin_wechat {
  id          Int       @id @default(autoincrement())
  openid      String    @unique
  user_id     String    @unique
  create_date DateTime? @default(now())
  update_date DateTime? @default(now())
}
